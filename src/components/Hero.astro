---
import Container from "./Container.astro";
import { clinic } from "../data/clinic";

const whatsappText = encodeURIComponent(
  "Olá! Gostaria de marcar uma consulta."
);
const whatsappLink = `https://wa.me/${clinic.phoneE164.replace("+", "")}?text=${whatsappText}`;
---

<header style="padding: 2.75rem 0 1.5rem;">
  <Container>
    <nav
      style="display:flex; align-items:center; justify-content:space-between; gap:1rem; margin-bottom: 1.75rem;"
    >
      <div style="display:flex; align-items:center; gap:.75rem;">
        <div
          class="card"
          style="width:42px; height:42px; border-radius: 14px; display:grid; place-items:center; background: rgba(255,255,255,.08);"
        >
          <span style="font-weight:800;">F</span>
        </div>
        <div>
          <div style="font-weight:800; letter-spacing:-0.02em;">
            {clinic.name}
          </div>
          <div class="muted" style="font-size:.92rem;">{clinic.tagline}</div>
        </div>
      </div>

      <div
        style="display:flex; gap:.5rem; flex-wrap: wrap; justify-content:flex-end;"
      >
        <a class="chip" href="#servicos">Serviços</a>
        <a class="chip" href="#equipa">Equipa</a>
        <a class="chip" href="#contactos">Contactos</a>
      </div>
    </nav>

    <div class="grid two" style="align-items: stretch;">
      <div class="card" style="padding: 1.35rem 1.35rem 1.2rem;">
        <div class="muted" style="display:flex; gap:.5rem; align-items:center;">
          <span class="chip" style="padding:.35rem .65rem;">Maia</span>
          <span>Atendimento sob marcação</span>
        </div>

        <div style="margin-top: .85rem;">
          <h1>Cuidados especializados em Fisioterapia e Osteopatia.</h1>
          <p class="muted" style="margin:.9rem 0 0; max-width: 65ch;">
            Reabilitação, terapia manual e exercício clínico — com
            acompanhamento individualizado para o seu objetivo.
          </p>
        </div>

        <div
          style="display:flex; gap:.6rem; flex-wrap:wrap; margin-top: 1.1rem;"
        >
          <a class="btn" href={whatsappLink} target="_blank" rel="noopener">
            Marcar por WhatsApp
          </a>
          <a class="btn secondary" href={`tel:${clinic.phoneE164}`}>Ligar</a>
          <a class="btn secondary" href={`mailto:${clinic.email}`}>Email</a>
        </div>

        <div class="divider"></div>

        <div class="grid" style="gap:.6rem;">
          <div>
            <div class="muted" style="font-size:.9rem;">Morada</div>
            <div style="font-weight:600;">{clinic.address}</div>
          </div>
          <div class="grid two" style="gap:.65rem;">
            <div>
              <div class="muted" style="font-size:.9rem;">Telefone</div>
              <div style="font-weight:600;">{clinic.phoneDisplay}</div>
            </div>
            <div>
              <div class="muted" style="font-size:.9rem;">Email</div>
              <div style="font-weight:600; word-break: break-word;">
                {clinic.email}
              </div>
            </div>
          </div>
        </div>
      </div>

      <div
        class="card"
        style="padding: 1.35rem; display:flex; flex-direction:column; justify-content:space-between; gap: 1rem;"
      >
        <div>
          <h2>Horário</h2>
          <p class="muted" style="margin:.45rem 0 0;">
            Aberto com marcação prévia.
          </p>
        </div>

        <div class="grid" style="gap:.8rem;">
          {
            clinic.hours.map((h) => (
              <div
                class="card"
                style="padding: .9rem 1rem; background: rgba(255,255,255,.05); border-radius: 16px;"
              >
                <div style="font-weight:700;">{h.label}</div>
                <div class="muted">{h.value}</div>
              </div>
            ))
          }
        </div>

        <div class="muted" style="font-size:.92rem;">
          Dica: se preferir, deixe mensagem por WhatsApp e confirmamos a
          disponibilidade.
        </div>
      </div>
    </div>
  </Container>
</header>
